@import ".variables.less";
@import (reference) "icons.less";
@import (reference) "../../../vendor/bootstrap/less/mixins/grid.less";
@import (reference) "../../../vendor/bootstrap/less/mixins/clearfix.less";

@pe-container-padding-vertical: 5px;
@pe-container-padding-horizontal: 5px;
@editor-vertical-tabs-width: 200px;
@editor-vertical-tabs-width-narrow: 50px;

.x-editor--tabbed {
	background-color: @color-tone; //color-lightgray;
}

/* editor page markup: begin */
.x-editor-page {
	padding: 5px;
	background-color: white;

	@media (max-width: @screen-xs-max) {
		padding: 0;
	}
}

.x-editor-tab-content {
	> .x-editor-page {
		padding-top: 13px;
	}
	background-color: white;
}

// Tabs
.x-editor-tabs {
	background-color: @color-tone; //color-lightgray;
	> li {
		float: left;

		// Actual tabs (as links)
		> .x-editor-tab {
			line-height: @line-height-base;
			border: 1px solid transparent;
			border-radius: @border-radius-base @border-radius-base 0 0;
			&:hover {
				border-color: @nav-tabs-link-hover-border-color @nav-tabs-link-hover-border-color @nav-tabs-border-color;
			}

			> .badge {
				background-color: @color-warning;
			}
		}

		// Active state, and it's :hover to override normal :hover
		&.active > .x-editor-tab {
			&,
			&:hover,
			&:focus {
				color: @color-warning;
				background-color: @nav-tabs-active-link-hover-bg;
				border: 1px solid @nav-tabs-active-link-hover-border-color;
				border-bottom-color: transparent;
				cursor: default;
			}
		}
	}
}

.x-editor-pages--left-tabs {
	> .x-editor-tabs {
		// NOTE: another option is to use float:left
		display: inline-block;
		width: @editor-vertical-tabs-width;
		vertical-align: top;
		position: absolute;

		> li {
			float: none;

			// Actual tabs (as links)
			> .x-editor-tab {
				border: 1px solid transparent;
				&:hover {
					border-color: @nav-tabs-link-hover-border-color @nav-tabs-link-hover-border-color @nav-tabs-link-hover-border-color @nav-tabs-border-color;
				}
			}

			// Active state, and it's :hover to override normal :hover
			&.active > .x-editor-tab {
				&,
				&:hover,
				&:focus {
					border-color: transparent;
					background-color: #eee;//transparent;
				}
			}
		}
	}
	> .x-editor-tab-content {
		display: block;
		margin-left: @editor-vertical-tabs-width;
		min-height: 200px;
	}
}
.x-editor-pages--left-tabs-narrow {
	> .x-editor-tabs {
		width: @editor-vertical-tabs-width-narrow;
	}
	> .x-editor-tab-content {
		margin-left: @editor-vertical-tabs-width-narrow;
	}
}
@media (max-width: @screen-xs-max) {
	.x-editor-pages--left-tabs-narrow-xs {
		.x-editor-pages--left-tabs-narrow();
	}
}
@media (max-width: @screen-sm-max) {
	.x-editor-pages--left-tabs-narrow-sm {
		.x-editor-pages--left-tabs-narrow();
	}
}
@media (max-width: @screen-md-max) {
	.x-editor-pages--left-tabs-narrow-md {
		.x-editor-pages--left-tabs-narrow();
	}
}
// Tabs: end

// Property editors
.x-pe-container {
	padding: @pe-container-padding-vertical 0;
}

// focused element
.x-pe-container--focused {
	background: @color-highlighted;
}

// label for a property editor
.x-pe-label {
	padding: 0 @pe-container-padding-horizontal;
	line-height: 2em;
	font-weight: normal;
	color: @color-black;
}

// not-null property editor's label
.x-pe-label--notnull {
	&:after {
		content: '*';
		color: @color-danger;
		padding-left: 3px;
		font-size: 18px;
		vertical-align: top;
	}
}

// PE element
.x-pe {
	padding: 0 @pe-container-padding-horizontal;
}

.x-pe-help {
	font-size: 12px;
	color: darken(@brand-primary, 6.5%);
}
// PEs: end

// Menu
.x-editor-menu {
	float: right;
}

.x-editor-menu-container {
	padding-right: 20px;
}

// Menu: ends

// Violations
.x-pe-label.-invalid:before {
	content: @x-icon-warning-triangle;
	padding-right: 5px;
	.iconfont;
	color: @color-danger;
}

.x-editor-error-badge {
	color: @color-danger;
	font-size: 16px;
}

.x-editor-ok-badge {
	color: green;
	font-size: 16px;
}

/* Violations: end */


/* fatal error in editor */
.x-editor-fatal-error-content {
	padding: 10px;
	> .x-editor-fatal-error-text {
		color: @color-danger;
		font-size: 16px;
		padding: 10px;
		margin-bottom: 20px;
	}
}

/* Editor inside dialog */
.modal {
	.x-editor-page {
		border: 0;
		margin: 0;
	}
}

.x-editor-siblings-carousel {
	margin-top: @title-padding;
	margin-right: @title-padding;
}

// Backward compatibility (< v0.19).
// Add .row class to .x-pe-container, don't use nested .row elements
.has-bs-grid .x-pe-container {
	.make-row();
	.clearfix();
	> .row {
		margin-left: 0;
		margin-right: 0;
	}
}
