/**
 * @overview @croc/webclient v1.34.4 - 2017-12-13 13:33 
 * @author CROC Inc. <dev_rnd@croc.ru> 
 * @version 1.34.4 
 * @copyright 2011-2017 CROC Inc. <http://www.croc.ru> 
 * @license Private: software can be used only with written authorization from CROC Inc. 
 */
define([
	"lib/core.lang", "./DataStoreIndexedDB", "./DataStoreLocalStorage"
], function (lang, DataStoreIndexedDB, DataStoreLocalStorage) {
	"use strict";

	var DataStore = lang.find([ DataStoreIndexedDB, DataStoreLocalStorage ], function (store) {
		return store.prototype.isSupported;
	});

	if (!DataStore) {
		throw new Error("Your browser doesn't support any implementation of DataStore");
	}

	return DataStore;
});